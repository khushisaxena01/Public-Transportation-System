<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Odisha Public Transportation System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
        }

        :root {
            --primary-color: #00a651;
            --secondary-color: #004d25;
            --dark-color: #1a1a1a;
            --light-color: #f5f5f5;
        }

        /* Login Page Styles */
        .login-page {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            background: #f5f5f5;
        }

        .login-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
            width: 100%;
            max-width: 400px;
        }

        .form-container {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .submit-btn {
            width: 100%;
            padding: 14px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .submit-btn:hover {
            background: var(--secondary-color);
        }

        /* Main App Styles */
        .control-panel {
            background: white;
            padding: 1.5rem; /* Reduced from 2rem to 1.5rem */
            border-right: 1px solid #ddd;
            overflow-y: auto;
            height: calc(100vh - 60px); /* Adjusted for available space */
        }

        .map-layers {
            list-style: none;
            margin-bottom: 2rem;
        }

        .map-layers li {
            padding: 0.8rem 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Adjust the map interface layout */
        .map-interface {
            display: grid;
            grid-template-columns: 250px 1fr; /* Reduce sidebar width from 300px to 250px */
        }

        /* Maximize map height and ensure it fills available space */
        .map-container {
            height: calc(100vh - 60px); /* Use viewport height minus header/footer space */
            width: 100%;
        }

        .map-container iframe {
            width: 100%;
            height: 100%; /* Ensure iframe fills container */
            border: none;
            display: block; /* Remove any potential inline spacing */
        }

        /* Optional - make other sections more compact */
        .place-card {
            margin-bottom: 0.75rem; /* Reduce from 1rem to 0.75rem */
        }

        .place-card img {
            height: 120px; /* Reduce from 150px to 120px */
        }

        .place-info {
            padding: 0.75rem; /* Reduce from 1rem to 0.75rem */
        }

        .place-recommendations {
            margin-top: 2rem;
        }

        .place-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .place-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .place-info {
            padding: 1rem;
        }

        .place-info h3 {
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .place-info p {
            font-size: 0.9rem;
            color: #666;
        }
	

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group label {
    margin-bottom: 5px;
    font-weight: 500;
}

.form-group select,
.form-group input {
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 14px;
}

.submit-btn {
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 14px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.submit-btn:hover {
    background: var(--secondary-color);
}
        .welcome-text {
            text-align: center;
            font-weight: bold;
            font-size: 1.5rem;
            margin: 1rem 0;
            color: #333;
            padding: 10px;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            border-radius: 0 0 8px 8px;
        }

        
        .main-app {
            display: none;
            min-height: 100vh;
            background: var(--light-color);
            padding-top: 60px;
        }

        .map-interface {
            display: grid;
            grid-template-columns: 300px 1fr;
        }

        /* Profile Section - Modified to be clickable */
    /* Updated Profile Section Styles */
.profile-section {
    position: fixed;
    top: 55px; /* Positioned below the marquee */
    right: 20px;
    z-index: 1000;
}

.profile-icon {
    background-color: var(--primary-color);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
}

.profile-icon span {
    color: white;
    font-size: 20px;
}

.profile-content {
    display: none;
    position: absolute;
    top: 50px;
    right: 0;
    width: 220px;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    overflow: hidden;
}

.profile-info {
    padding: 15px;
    border-bottom: 1px solid #eee;
    text-align: center;
}

.profile-info h3 {
    margin-bottom: 5px;
    color: var(--dark-color);
    font-size: 16px;
}

.profile-info p {
    margin: 0;
    color: #666;
    font-size: 14px;
    word-break: break-word;
}

.profile-menu {
    display: flex;
    flex-direction: column;
}

.profile-menu-item {
    background: none;
    border: none;
    text-align: left;
    padding: 12px 15px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-size: 14px;
}

.profile-menu-item:hover {
    background-color: #f5f5f5;
}

        /* Emissions Section */
        .emissions-section {
            padding: 2rem;
            background: white;
            margin-top: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .emissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }

        .emissions-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .emissions-stat {
            font-size: 2rem;
            color: var(--primary-color);
            margin: 1rem 0;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .solutions-list, .emission-progress-list {
            margin-left: 1.5rem;
            margin-top: 0.5rem;
        }

        .solutions-list li, .emission-progress-list li {
            margin-bottom: 0.5rem;
        }

        /* Chatbot Styles */
       /* Replace the existing chatbot styles with these improved styles */

.chatbot-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    z-index: 1000;
    transition: transform 0.3s ease, background-color 0.3s ease;
}

.chatbot-toggle:hover {
    transform: scale(1.05);
    background-color: var(--secondary-color);
}

.chatbot-container {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 350px;
    height: 500px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 5px 25px rgba(0,0,0,0.2);
    display: none;
    flex-direction: column;
    z-index: 1000;
    overflow: hidden;
}

.chatbot-header {
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 15px;
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
}

.chatbot-header button {
    background: none;
    border: none;
    color: white;
    font-size: 16px;
    cursor: pointer;
    height: 24px;
    width: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background-color 0.3s ease;
}

.chatbot-header button:hover {
    background-color: rgba(255, 255, 255, 0.2);
}

.chatbot-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    scrollbar-width: thin;
    scrollbar-color: #ddd #f5f5f5;
}

.chatbot-messages::-webkit-scrollbar {
    width: 6px;
}

.chatbot-messages::-webkit-scrollbar-track {
    background: #f5f5f5;
}

.chatbot-messages::-webkit-scrollbar-thumb {
    background-color: #ddd;
    border-radius: 6px;
}

.message {
    max-width: 80%;
    padding: 12px 16px;
    border-radius: 18px;
    margin-bottom: 2px;
    word-wrap: break-word;
    line-height: 1.4;
    position: relative;
    animation: messageAppear 0.3s ease;
}

@keyframes messageAppear {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.message.bot {
    background-color: #f0f0f0;
    border-bottom-left-radius: 5px;
    align-self: flex-start;
    color: #333;
}

.message.user {
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 5px;
}

.message.thinking {
    background-color: #f0f0f0;
    border-bottom-left-radius: 5px;
    align-self: flex-start;
    color: #666;
    display: flex;
    align-items: center;
    gap: 4px;
}

.thinking-dot {
    width: 8px;
    height: 8px;
    background-color: #666;
    border-radius: 50%;
    animation: pulse 1.5s infinite;
}

.thinking-dot:nth-child(2) {
    animation-delay: 0.2s;
}

.thinking-dot:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes pulse {
    0%, 100% { opacity: 0.4; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1); }
}

.chatbot-input {
    display: flex;
    padding: 12px;
    border-top: 1px solid #eee;
    background-color: white;
}

.chatbot-input input {
    flex-grow: 1;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 20px;
    font-size: 14px;
    outline: none;
    transition: border-color 0.3s ease;
}

.chatbot-input input:focus {
    border-color: var(--primary-color);
}

.chatbot-input button {
    width: 40px;
    height: 40px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 50%;
    margin-left: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
}

.chatbot-input button:hover {
    background-color: var(--secondary-color);
}

.chatbot-suggestions {
    padding: 12px;
    background-color: #f9f9f9;
    border-top: 1px solid #eee;
}

.suggestion-title {
    font-size: 12px;
    color: #666;
    margin-bottom: 8px;
}

.suggestion-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.suggestion-chips button {
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 16px;
    padding: 6px 12px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.suggestion-chips button:hover {
    background-color: #f0f0f0;
    border-color: #ccc;
}        .marquee-container {
            background: linear-gradient(45deg, #00a651, #004d25);
            padding: 15px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            overflow: hidden;
        }

        .marquee-content {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            white-space: nowrap;
            animation: marquee 20s linear infinite;
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .rewards-section {
            padding: 2rem;
            background: white;
            margin-top: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .reward-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .reward-card:hover {
            transform: translateY(-5px);
        }

        .reward-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .reward-points {
            font-size: 1.8rem;
            color: var(--primary-color);
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .reward-progress {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .reward-progress-fill {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            transition: width 0.3s ease;
        }        

        /* Login page initially visible, main app hidden */
        #loginPage {
            display: flex;
        }

        #mainApp {
            display: none;
        }

        #paymentPage {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #6e8efb, #4a6ee0);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .payment-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            max-width: 600px;
            width: 100%;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
        }
        .payment-option {
            background: rgba(255, 255, 255, 0.7);
            margin: 15px 0;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .payment-option:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .payment-option-header {
            display: flex;
            align-items: center;
        }
        .payment-form {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin: 12px 0;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
        }
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            outline: none;
            border-color: #4a6ee0;
            box-shadow: 0 0 0 2px rgba(74, 110, 224, 0.2);
        }
        .card-details {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 12px;
        }
        .submit-btn {
            background: linear-gradient(135deg, #4a6ee0, #6e8efb);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 20px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 110, 224, 0.4);
        }
        .amount-display {
            background: rgba(74, 110, 224, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
            color: #2c3e50;
        }
        .active-option {
            background: rgba(74, 110, 224, 0.2);
            border: 1px solid rgba(74, 110, 224, 0.4);
        }
        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
        }
        @media (max-width: 480px) {
            .card-details {
                grid-template-columns: 1fr;
            }
            .payment-container {
                padding: 20px;
            }
        }        
        /* My Bookings Styles */
        .my-bookings-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin-top: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .my-bookings-button:hover {
            background-color: var(--secondary-color);
        }
        
        #myBookingsPage {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            background-color: white;
            z-index: 2000;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            padding: 20px;
            overflow-y: auto;
        }
        
        .booking-container {
            padding: 20px;
        }
        
        .close-bookings {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 22px;
            cursor: pointer;
            background: none;
            border: none;
            color: #333;
        }
        
        .booking-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .booking-tab {
            padding: 10px 20px;
            cursor: pointer;
            background: none;
            border: none;
            font-weight: bold;
            color: #777;
            position: relative;
        }
        
        .booking-tab.active {
            color: var(--primary-color);
        }
        
        .booking-tab.active::after {
            content: "";
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
        }
        
        .booking-content {
            display: none;
        }
        
        .booking-content.active {
            display: block;
        }
        
        .booking-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary-color);
        }
        
        .booking-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .booking-title {
            font-weight: bold;
            font-size: 1.1em;
            color: var(--dark-color);
        }
        
        .booking-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }
        
        .status-confirmed {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-in-transit {
            background-color: #cce5ff;
            color: #004085;
        }
        
        .status-completed {
            background-color: #d1ecf1;
            color: #0c5460;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .booking-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .booking-detail {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-size: 0.85em;
            color: #666;
            margin-bottom: 3px;
        }
        
        .detail-value {
            font-weight: 600;
        }
        
        .booking-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }
        
        .booking-action-btn {
            padding: 6px 12px;
            border-radius: 5px;
            border: none;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .cancel-btn {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .cancel-btn:hover {
            background-color: #f5c6cb;
        }
        
        .track-btn {
            background-color: #e2f0d9;
            color: #3c763d;
        }
        
        .track-btn:hover {
            background-color: #d0e9c6;
        }
        
        .no-bookings {
            text-align: center;
            padding: 30px;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <div class="form-container">
                <h2 style="text-align: center; margin-bottom: 20px;">TravelEase Login</h2>
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" required placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" required placeholder="Enter your phone number">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" required placeholder="Enter your password">
                    </div>
                    <button type="submit" class="submit-btn">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="main-app">
        <div class="marquee-container">
    <div class="marquee-content" id="welcomeMessage">
        Welcome Guest - TravelEase Public Transportation System
    </div>
</div>               <!-- Profile Section -->
    
	<div id="profileSection" class="profile-section">
    <div class="profile-icon" onclick="toggleProfile()">
        <span>üë§</span>
    </div>
    <div class="profile-content" id="profileContent">
        <div class="profile-info">
            <h3 id="profileName">John Doe</h3>
            <p id="profileEmail">john.doe@example.com</p>
        </div>
        <div class="profile-menu">
            <button class="profile-menu-item" onclick="openMyBookings()">My Bookings</button> 
	    <button class="profile-menu-item" onclick="openSettings()">Settings</button>
            <button class="profile-menu-item" onclick="openSupport()">Support</button>
            <button class="profile-menu-item" onclick="handleLogout()">Log Out</button>
        </div>
    </div>
</div>
       <div class="map-interface">
          <div class="map-interface">
    <div class="map-container">
        <!-- The map stays here, unmodified -->
    </div>
    <div class="control-panel">
        <h2 class="centered-heading">Transit Layers</h2>
        <ul class="map-layers">
            <li>
                <input type="checkbox" checked> 
                <span>Bus Stops</span>
            </li>
            <li>
                <input type="checkbox" checked> 
                <span>Train Stations</span>
            </li>
            <li>
                <input type="checkbox" checked> 
                <span>Auto Stands</span>
            </li>
        </ul>
        
        <h2 class="centered-heading">Transportation Pricing</h2>
        <div class="pricing-table">
            <div class="pricing-row header">
                <div class="mode">Mode</div>
                <div class="rate">Per km</div>
                <div class="total">10 km</div>
            </div>
            <div class="pricing-row">
                <div class="mode">Bus</div>
                <div class="rate">‚Çπ5-10</div>
                <div class="total">‚Çπ50-100</div>
            </div>
            <div class="pricing-row">
                <div class="mode">Auto</div>
                <div class="rate">‚Çπ40-50</div>
                <div class="total">‚Çπ400-500</div>
            </div>
            <div class="pricing-row">
                <div class="mode">Bike</div>
                <div class="rate">‚Çπ25-30</div>
                <div class="total">‚Çπ250-300</div>
            </div>
        </div>
        
        <!-- Payment Button -->
	<button class="payment-button" onclick="scrollToSearchBar()">Book Transportation</button>
                       
        <div class="place-recommendations">
            <h2 class="centered-heading">Places to Visit</h2>
            <div class="place-card">
                <img src="Konark.jpg" alt="Konark Sun Temple">
                <div class="place-info">
                    <h3>Konark Sun Temple</h3>
                    <p>UNESCO World Heritage site, famous for its architectural grandeur and intricate carvings.</p>
                </div>
            </div>
            <div class="place-card">
                <img src="JagannathTemple.jpg" alt="Jagannath Temple">
                <div class="place-info">
                    <h3>Jagannath Temple</h3>
                    <p>One of the Char Dhams, famous for its annual Rath Yatra festival.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .map-interface {
        display: flex;
        font-family: Arial, sans-serif;
        position: relative;
    }
    
    .map-container {
        /* Map container stays exactly where it was */
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }
    
    .control-panel {
        background-color: #f5f5f5;
        border-radius: 8px;
        padding: 16px;
        width: 300px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        max-height: 100vh;
        overflow-y: auto;
        position: relative;
        z-index: 2;
    }
    
    h2 {
        color: #333;
        font-size: 18px;
        margin-top: 16px;
        margin-bottom: 12px;
    }
    
    .centered-heading {
        text-align: center;
    }
    
    .map-layers {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    
    .map-layers li {
        padding: 8px 0;
        display: flex;
        align-items: center;
    }
    
    .map-layers li span {
        margin-left: 8px;
    }
    
    .pricing-table {
        border: 1px solid #ddd;
        border-radius: 4px;
        overflow: hidden;
        margin-top: 8px;
        margin-bottom: 16px;
        font-size: 14px;
    }
    
    .pricing-row {
        display: flex;
        border-bottom: 1px solid #ddd;
    }
    
    .pricing-row:last-child {
        border-bottom: none;
    }
    
    .pricing-row.header {
        background-color: #e9e9e9;
        font-weight: bold;
    }
    
    .mode, .rate, .total {
        padding: 8px;
        flex: 1;
    }
    
    .mode {
        flex: 1.2;
    }
    
    .payment-button {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 15px;
        text-align: center;
        text-decoration: none;
        display: block;
        width: 100%;
        font-size: 16px;
        margin: 10px 0;
        cursor: pointer;
        border-radius: 4px;
    }
    
    .place-recommendations {
        margin-top: 20px;
    }
    
    .place-card {
        background-color: white;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 15px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    .place-card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
    }
    
    .place-info {
        padding: 12px;
    }
    
    .place-info h3 {
        margin: 0 0 8px 0;
        font-size: 16px;
    }
    
    .place-info p {
        margin: 0;
        font-size: 14px;
        color: #666;
    }
</style>

            <!-- Map Section -->
            <div class="map-container">
                <iframe 
                    width="100%" 
                    height="calc(100vh - 80px)" 
                    frameborder="0" 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d119743.40927239858!2d85.7899317!3d20.2960587!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a1909d2d5170aa5%3A0xfc580e2b68b33fa8!2sBhubaneswar%2C%20Odisha!5e0!3m2!1sen!2sin!4v1623456789012!5m2!1sen!2sin">
                </iframe>
            </div>
        </div>
<!-- Search Bar Section -->
<!-- Updated Search Bar Section -->
<div id="searchBarSection" class="relative flex flex-col items-center justify-center min-h-screen overflow-hidden">
    <div class="bg-white rounded-full shadow-lg p-2 flex items-center w-11/12 md:w-1/2 lg:w-1/3">
        <button 
            class="bg-green-500 text-white font-bold py-2 px-4 rounded-full w-full"
 onclick="window.location.href='C:\\Users\\KIIT\\Desktop\\html\\test.html'; 
setTimeout(() => { window.location.href='https://example.com/payment'; }, 3000);"> 
           Book Ticket Now
        </button>
    </div>
</div>

    <!-- JavaScript -->
<script>
function scrollToSearchBar() {
    document.getElementById("searchBarSection").scrollIntoView({ behavior: "smooth" });
}
</script>
        <!-- Emissions Section -->
        <div class="emissions-section">
            <h2>Carbon Emissions Statistics & Solutions</h2>
            <div class="emissions-grid">
                <div class="emissions-card">
                    <h3>Current Transport Emissions</h3>
                    <div class="emissions-stat">2.5 MT CO‚ÇÇ</div>
                    <p>Monthly carbon emissions from public transportation</p>
                    <br>                     
                    <h3>Green Transport Impact</h3>
                    <ul class="solutions-list">
                        <li>Electric buses reduce emissions by 1.2 MT CO‚ÇÇ annually</li>
                        <li>Bicycle sharing prevents 0.5 MT CO‚ÇÇ emissions</li>
                        <li>EV charging stations support 2000+ electric vehicles</li>
                    </ul>
                    <br>                     
                    <h3>Solutions to Reduce Carbon Emissions</h3>
                    <ul class="solutions-list">
                        <li>Use public transportation instead of private vehicles</li>
                        <li>Choose electric or hybrid vehicles when possible</li>
                        <li>Participate in bicycle sharing programs</li>
                        <li>Plan trips to combine multiple errands</li>
                        <li>Support the expansion of EV charging infrastructure</li>
                        <li>Advocate for more electric buses in public transit</li>
                        <li>Use carpool or ride-sharing services</li>
                        <li>Walk or cycle for short-distance travel</li>
                    </ul>

                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%;"></div>
                    </div>
                </div>

                <div class="emissions-card">
                    <h3>Emission Reduction Goals</h3>
                    <div class="emissions-stat">-30%</div>
                    <p>Target reduction by 2025</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 40%;"></div>
                    </div>
                    
                    <h3>Progress by Transport Type</h3>
                    <ul class="emission-progress-list">
                        <li>Bus fleet: 45% converted to electric</li>
                        <li>Metro system: 85% renewable energy powered</li>
                        <li>Public EV charging points: 120 installed (target: 300)</li>
                        <li>Bicycle lanes: 35km completed (target: 100km)</li>
                    </ul>
                    
                    <h3>Community Impact</h3>
                    <div class="emissions-stat">12,500</div>
                    <p>Citizens actively participating in green transportation initiatives</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 62%;"></div>
                    </div>
                    <p>Target participation: 20,000 citizens by 2025</p>
                </div>
            </div>
        </div>

        <div class="rewards-section">
            <h2>Green Travel Rewards</h2>
            <div class="rewards-grid">
                <div class="reward-card">
                     <div class="reward-icon">üåü</div>
                    <h3>Green Miles</h3>
                    <div class="reward-points">2,450</div>
                    <p>Points earned through eco-friendly travel</p>
                    <div class="reward-progress">
                        <div class="reward-progress-fill" style="width: 65%;"></div>
                    </div>
                    <p>Next reward at 3,000 points</p>
                </div>

                <div class="reward-card">
                    <div class="reward-icon">üåø</div>
                    <h3>Carbon Savings</h3>
                    <div class="reward-points">850 kg</div>
                    <p>CO‚ÇÇ emissions saved this month</p>
                    <div class="reward-progress">
                        <div class="reward-progress-fill" style="width: 85%;"></div>
                    </div>
                    <p>Monthly goal: 1,000 kg</p>
                </div>

                <div class="reward-card">
                    <div class="reward-icon">üèÜ</div>
                    <h3>Achievement Level</h3>
                    <div class="reward-points">Gold</div>
                    <p>Current membership tier</p>
                    <div class="reward-progress">
                        <div class="reward-progress-fill" style="width: 75%;"></div>
                    </div>
                    <p>500 points to Platinum</p>
                </div>
            </div>
        </div>

        <!-- Chatbot -->
        <button class="chatbot-toggle" id="chatbotToggle">üí¨</button>
    	<div class="chatbot-container" id="chatbotContainer">
    		<div class="chatbot-header">
       		 <span>TravelEase Assistant</span>
        <button onclick="toggleChatbot()">X</button>
    </div>
    		<div class="chatbot-messages" id="chatbotMessages">
        	<div class="message bot">Hello! How can I help you with your transportation needs today?</div>
    </div>
    <div class="chatbot-input">
        <input type="text" id="userInput" placeholder="Type your question here..." onkeypress="handleKeyPress(event)">
        <button onclick="processUserInput()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
            </svg>
        </button>
    </div>
    <div class="chatbot-suggestions">
        <div class="suggestion-title">Try asking about:</div>
        <div class="suggestion-chips">
            <button onclick="setUserInput('What are the nearest bus stops?')">Nearest bus stops</button>
            <button onclick="setUserInput('How can I reduce my carbon footprint?')">Carbon footprint</button>
            <button onclick="setUserInput('Tell me about places to visit')">Tourist attractions</button>
            <button onclick="setUserInput('How do I book transportation?')">Book transportation</button>
        </div>
    </div>
</div>
    

    
    <!-- My Bookings Page -->
    <div id="myBookingsPage">
        <button class="close-bookings" onclick="closeMyBookings()">√ó</button>
        <div class="booking-container">
            <h2>My Bookings</h2>
            
            <div class="booking-tabs">
                <button class="booking-tab active" onclick="switchTab('upcoming')">Upcoming</button>
                <button class="booking-tab" onclick="switchTab('past')">Past</button>
                <button class="booking-tab" onclick="switchTab('cancelled')">Cancelled</button>
            </div>
            
            <div id="upcoming" class="booking-content active">
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="booking-title">Bhubaneswar to Konark Sun Temple</div>
                        <div class="booking-status status-confirmed">Confirmed</div>
                    </div>
                    <div class="booking-details">
                        <div class="booking-detail">
                            <span class="detail-label">Booking ID</span>
                            <span class="detail-value">BK12345678</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Date & Time</span>
                            <span class="detail-value">15 Mar 2025, 10:00 AM</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Vehicle Type</span>
                            <span class="detail-value">AC Bus</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Amount Paid</span>
                            <span class="detail-value">‚Çπ580</span>
                        </div>
                    </div>
                    <div class="booking-actions">
                        <button class="booking-action-btn cancel-btn">Cancel Booking</button>
                        <button class="booking-action-btn track-btn">Track Journey</button>
                    </div>
                </div>
                
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="booking-title">Puri to Jagannath Temple</div>
                        <div class="booking-status status-confirmed">Confirmed</div>
                    </div>
                    <div class="booking-details">
                        <div class="booking-detail">
                            <span class="detail-label">Booking ID</span>
                            <span class="detail-value">BK12345679</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Date & Time</span>
                            <span class="detail-value">20 Mar 2025, 09:30 AM</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Vehicle Type</span>
                            <span class="detail-value">Electric Car</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Amount Paid</span>
                            <span class="detail-value">‚Çπ350</span>
                        </div>
                    </div>
                    <div class="booking-actions">
                        <button class="booking-action-btn cancel-btn">Cancel Booking</button>
                        <button class="booking-action-btn track-btn">Track Journey</button>
                    </div>
                </div>
            </div>
            
            <div id="past" class="booking-content">
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="booking-title">Bhubaneswar Airport to City Center</div>
                        <div class="booking-status status-completed">Completed</div>
                    </div>
                    <div class="booking-details">
                        <div class="booking-detail">
                            <span class="detail-label">Booking ID</span>
                            <span class="detail-value">BK12345677</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Date & Time</span>
                            <span class="detail-value">10 Mar 2025, 02:15 PM</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Vehicle Type</span>
                            <span class="detail-value">Sedan</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Amount Paid</span>
                            <span class="detail-value">‚Çπ420</span>
                        </div>
                    </div>
                    <div class="booking-actions">
                        <button class="booking-action-btn track-btn">View Receipt</button>
                    </div>
                </div>
            </div>
            
            <div id="cancelled" class="booking-content">
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="booking-title">Cuttack to Bhubaneswar</div>
                        <div class="booking-status status-cancelled">Cancelled</div>
                    </div>
                    <div class="booking-details">
                        <div class="booking-detail">
                            <span class="detail-label">Booking ID</span>
                            <span class="detail-value">BK12345676</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Date & Time</span>
                            <span class="detail-value">05 Mar 2025, 11:00 AM</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Vehicle Type</span>
                            <span class="detail-value">Metro</span>
                        </div>
                        <div class="booking-detail">
                            <span class="detail-label">Refund Status</span>
                            <span class="detail-value">Processed</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
     function handleKeyPress(event) {
    if (event.key === 'Enter') {
        processUserInput();
    }
}

// Process user input from the chatbot
function processUserInput() {
    const userInput = document.getElementById('userInput');
    const message = userInput.value.trim();
    
    if (message === '') return; // Don't process empty messages
    
    // Add user message to the chat
    const chatbotMessages = document.getElementById('chatbotMessages');
    const userMessageDiv = document.createElement('div');
    userMessageDiv.className = 'message user';
    userMessageDiv.textContent = message;
    chatbotMessages.appendChild(userMessageDiv);
 
// Clear input field
    userInput.value = '';
    
    // Show typing indicator
    const thinkingDiv = document.createElement('div');
    thinkingDiv.className = 'message thinking';
    thinkingDiv.innerHTML = '<div class="thinking-dot"></div><div class="thinking-dot"></div><div class="thinking-dot"></div>';
    chatbotMessages.appendChild(thinkingDiv);
    
    // Scroll to bottom of chat
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    
    // Process the message and respond after a small delay
    setTimeout(() => {
        // Remove thinking indicator
        chatbotMessages.removeChild(thinkingDiv);
        
        // Generate response based on user input
        const botResponse = generateResponse(message);
        
        // Add bot response
        const botMessageDiv = document.createElement('div');
        botMessageDiv.className = 'message bot';
        botMessageDiv.textContent = botResponse;
        chatbotMessages.appendChild(botMessageDiv);
        
        // Scroll to bottom again after adding response
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }, 1000);
}

// Set input field with suggestion text
function setUserInput(text) {
    const userInput = document.getElementById('userInput');
    userInput.value = text;
    userInput.focus();
}

// Generate response based on user message
function generateResponse(message) {
    // Convert message to lowercase for easier matching
    const lowercaseMsg = message.toLowerCase();
    
    // Check for keywords in the message
    if (lowercaseMsg.includes('bus') || lowercaseMsg.includes('stop') || lowercaseMsg.includes('nearest bus')) {
        const nearestBusStops = appData.transportation.busStops.slice(0, 2);
        return `The nearest bus stops are: 
                1. ${nearestBusStops[0].name} (${nearestBusStops[0].distance}) - Routes: ${nearestBusStops[0].routes.join(', ')}
                2. ${nearestBusStops[1].name} (${nearestBusStops[1].distance}) - Routes: ${nearestBusStops[1].routes.join(', ')}`;
    } 
    else if (lowercaseMsg.includes('metro') || lowercaseMsg.includes('train') || lowercaseMsg.includes('railway')) {
        if (lowercaseMsg.includes('metro')) {
            const station = appData.transportation.metroStations[0];
            return `The nearest metro station is ${station.name} (${station.distance}). Available lines: ${station.lines.join(', ')}.`;
        } else {
            const station = appData.transportation.trainStations[0];
            return `The nearest train station is ${station.name} (${station.distance}).`;
        }
    }
    else if (lowercaseMsg.includes('auto') || lowercaseMsg.includes('rickshaw') || lowercaseMsg.includes('cab') || lowercaseMsg.includes('taxi')) {
        const stand = appData.transportation.autoStands[0];
        return `The nearest auto stand is at ${stand.name} (${stand.distance}). You can also book transportation directly through our app by clicking the "Book Transportation" button.`;
    }
    else if (lowercaseMsg.includes('ev') || lowercaseMsg.includes('electric') || lowercaseMsg.includes('charging')) {
        const evPoint = appData.transportation.evChargingPoints[0];
        return `The nearest EV charging point is at ${evPoint.name} (${evPoint.distance}) with ${evPoint.ports} charging ports available.`;
    }
    else if (lowercaseMsg.includes('tourist') || lowercaseMsg.includes('visit') || lowercaseMsg.includes('attraction') || lowercaseMsg.includes('place')) {
        const attractions = appData.tourism.attractions.slice(0, 3);
        return `Top places to visit near you are:
                1. ${attractions[0].name} (${attractions[0].distance}) - ${attractions[0].description}
                2. ${attractions[1].name} (${attractions[1].distance}) - ${attractions[1].description}
                3. ${attractions[2].name} (${attractions[2].distance}) - ${attractions[2].description}`;
    }
    else if (lowercaseMsg.includes('carbon') || lowercaseMsg.includes('emission') || lowercaseMsg.includes('green') || lowercaseMsg.includes('environment')) {
        return `Our city's current transport emissions are ${appData.environment.currentEmissions} with a goal of ${appData.environment.reductionGoal}. You've personally saved ${appData.rewards.carbonSaved} CO‚ÇÇ this month! To reduce your carbon footprint, try: ${appData.environment.reduceFootprint.slice(0, 3).join(', ')}.`;
    }
    else if (lowercaseMsg.includes('book') || lowercaseMsg.includes('ticket') || lowercaseMsg.includes('reservation')) {
        return `To book transportation, click the "Book Transportation" button in the sidebar. You can choose from ${appData.booking.options.map(o => o.type).join(', ')}. Payment can be made via ${appData.booking.paymentMethods.join(', ')}.`;
    }
    else if (lowercaseMsg.includes('reward') || lowercaseMsg.includes('point') || lowercaseMsg.includes('benefit')) {
        return `You currently have ${appData.rewards.currentPoints} green points (${appData.rewards.currentTier} tier). You need ${appData.rewards.nextReward} for your next reward. Benefits include: ${appData.rewards.benefits.slice(0, 3).join(', ')}.`;
    }
    else if (lowercaseMsg.includes('hello') || lowercaseMsg.includes('hi') || lowercaseMsg.includes('hey')) {
        return `Hello! How can I help you with your transportation needs today?`;
    }
    else if (lowercaseMsg.includes('thank')) {
        return `You're welcome! Feel free to ask if you need any other assistance.`;
    }
    else if (lowercaseMsg.includes('bye') || lowercaseMsg.includes('goodbye')) {
        return `Thank you for using TravelEase! Have a great day.`;
    }
    else {
        return `I'm not sure I understand. Would you like information about bus stops, tourist attractions, booking transportation, or carbon emissions?`;
    }
}
   

// Application data that chatbot can access and reference
        const appData = {
            // Transportation data
            transportation: {
                busStops: [
                    { name: "Master Canteen Square", distance: "500m", routes: ["101", "205", "307"] },
                    { name: "Railway Station", distance: "1.2km", routes: ["102", "201", "304"] },
                    { name: "Khandagiri Square", distance: "4.5km", routes: ["105", "208"] },
                    { name: "Vani Vihar", distance: "2.8km", routes: ["103", "207", "306"] },
                    { name: "Acharya Vihar", distance: "3.2km", routes: ["101", "204", "309"] }
                ],
                metroStations: [
                    { name: "Central Metro Station", distance: "800m", lines: ["Blue Line", "Green Line"] },
                    { name: "Airport Metro", distance: "12km", lines: ["Airport Express"] },
                    { name: "Jaydev Vihar Metro", distance: "5.3km", lines: ["Blue Line"] }
                ],
                trainStations: [
                    { name: "Bhubaneswar Railway Station", distance: "1.2km" },
                    { name: "Cuttack Railway Station", distance: "25km" }
                ],
                autoStands: [
                    { name: "City Center Auto Stand", distance: "350m" },
                    { name: "Railway Auto Stand", distance: "1.2km" },
                    { name: "Market Building Auto Stand", distance: "1.5km" }
                ],
                evChargingPoints: [
                    { name: "Central Mall Charging Station", distance: "1.8km", ports: 4 },
                    { name: "Railway Station EV Point", distance: "1.3km", ports: 6 },
                    { name: "City Center Charging Hub", distance: "2.2km", ports: 8 }
                ]
            },
            
            // Tourism data
            tourism: {
                attractions: [
                    { name: "Konark Sun Temple", distance: "65km", type: "UNESCO World Heritage", description: "Famous for its architectural grandeur and intricate carvings." },
                    { name: "Jagannath Temple", distance: "60km", type: "Religious", description: "One of the Char Dhams, famous for its annual Rath Yatra festival." },
                    { name: "Nandankanan Zoological Park", distance: "20km", type: "Wildlife", description: "Home to white tigers and various endangered species." },
                    { name: "Udayagiri & Khandagiri Caves", distance: "7km", type: "Historical", description: "Ancient Jain rock-cut caves dating back to the 1st century BCE." },
                    { name: "Lingaraj Temple", distance: "5km", type: "Religious", description: "An 11th-century Hindu temple dedicated to Shiva." },
                    { name: "Dhauli Shanti Stupa", distance: "8km", type: "Historical", description: "Peace pagoda marking the site of the Kalinga War." }
                ],
                localExperiences: [
                    { name: "Odisha Handicrafts Tour", type: "Cultural", description: "Explore the rich handicraft traditions of Odisha." },
                    { name: "Chilika Lake Boating", distance: "100km", type: "Nature", description: "Boat tours to see Irrawaddy dolphins and migratory birds." },
                    { name: "Puri Beach", distance: "60km", type: "Nature", description: "Golden sand beach along the Bay of Bengal." }
                ]
            },
            
            // Booking & Payment data
            booking: {
                options: [
                    { type: "Bus", routes: ["City Tour", "Temple Circuit", "Beach Express"], avgPrice: "‚Çπ150-‚Çπ600" },
                    { type: "Electric Car", routes: ["City Tour", "Custom Route"], avgPrice: "‚Çπ800-‚Çπ1500" },
                    { type: "Auto Rickshaw", routes: ["Short Distance", "City Tour"], avgPrice: "‚Çπ100-‚Çπ300" },
                    { type: "Metro", routes: ["Blue Line", "Green Line", "Airport Express"], avgPrice: "‚Çπ20-‚Çπ60" }
                ],
                paymentMethods: ["UPI", "Net Banking", "Credit/Debit Card", "Cash"],
                bookingProcess: "Click on 'Book Transportation' button, select your destination, choose transport type, select date and time, and complete payment."
            },
            
            // Carbon emissions & environmental data
            environment: {
                currentEmissions: "2.5 MT CO‚ÇÇ monthly from public transportation",
                reductionGoal: "30% reduction by 2025",
                progress: {
                    busFleet: "45% converted to electric",
                    metroSystem: "85% renewable energy powered",
                    evChargingPoints: "120 installed (target: 300)",
                    bicycleLanes: "35km completed (target: 100km)"
                },
                impactStats: {
                    electricBuses: "1.2 MT CO‚ÇÇ reduced annually",
                    bicycleSharing: "0.5 MT CO‚ÇÇ emissions prevented",
                    evSupport: "2000+ electric vehicles supported"
                },
                reduceFootprint: [
                    "Use public transportation instead of private vehicles",
                    "Choose electric or hybrid vehicles when possible",
                    "Participate in bicycle sharing programs",
                    "Plan trips to combine multiple errands",
                    "Support the expansion of EV charging infrastructure",
                    "Use carpool or ride-sharing services",
                    "Walk or cycle for short-distance travel"
                ]
            },
            
            // Rewards program data
            rewards: {
                currentPoints: 2450,
                nextReward: "3000 points",
                carbonSaved: "850 kg CO‚ÇÇ this month",
                carbonGoal: "1000 kg monthly",
                currentTier: "Gold",
                nextTier: "Platinum (500 points away)",
                benefits: [
                    "Discounted rides on public transport",
                    "Free bicycle sharing program access",
                    "Exclusive EV charging discounts",
                    "Priority booking for green transportation"
                ]
            }
        };
	
	// This is the corrected toggleProfile function
	function toggleProfile() {
   	  const profileContent = document.getElementById('profileContent');
    	  const displayStyle = profileContent.style.display;
    
    profileContent.style.display = displayStyle === 'block' ? 'none' : 'block';
    
    // Optional: Add animation to icon
    const profileIcon = document.querySelector('.profile-icon');
    if (profileContent.style.display === 'block') {
        profileIcon.style.transform = 'rotate(180deg)';
    } else {
        profileIcon.style.transform = 'rotate(0deg)';
    }
    
    // Close profile when clicking outside
    if (profileContent.style.display === 'block') {
        document.addEventListener('click', closeProfileOnClickOutside);
    } else {
        document.removeEventListener('click', closeProfileOnClickOutside);
    }
}

function closeProfileOnClickOutside(event) {
    const profileSection = document.getElementById('profileSection');
    if (!profileSection.contains(event.target)) {
        document.getElementById('profileContent').style.display = 'none';
        document.querySelector('.profile-icon').style.transform = 'rotate(0deg)';
        document.removeEventListener('click', closeProfileOnClickOutside);
    }
}

function handleLogin(event) {
    event.preventDefault();
    const name = document.getElementById('fullName').value;
    const email = document.getElementById('email').value;

    if (name && email) {
        // Update welcome message
        document.getElementById('welcomeMessage').textContent = `Welcome ${name} - TravelEase Public Transportation System`;
        
        // Update profile info
        document.getElementById('profileName').textContent = name;
        document.getElementById('profileEmail').textContent = email;

        // Show main app and hide login page
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('mainApp').style.display = 'block';
    }
}

function openSettings() {
    alert('Settings page is under construction.');
}

function openSupport() {
    alert('Support page is under construction.');
}

function handleLogout() {
    document.getElementById('mainApp').style.display = 'none';
    document.getElementById('loginPage').style.display = 'flex';
    document.getElementById('fullName').value = '';
    document.getElementById('email').value = '';
    document.getElementById('phone').value = '';
    document.getElementById('password').value = '';
    
    // Reset profile display
    document.getElementById('profileContent').style.display = 'none';
}

function toggleChatbot() {
    const chatbotContainer = document.getElementById('chatbotContainer');
    if (chatbotContainer.style.display === 'flex') {
        chatbotContainer.style.display = 'none';
    } else {
        chatbotContainer.style.display = 'flex';
    }
}

function sendMessage(message) {
    const chatbotMessages = document.getElementById('chatbotMessages');
    
    // Add user message
    const userMessageDiv = document.createElement('div');
    userMessageDiv.className = 'message user';
    userMessageDiv.textContent = message;
    chatbotMessages.appendChild(userMessageDiv);
    
    // Add bot response based on the message
    let botResponse = '';
    
    if (message === 'What is the nearest bus stop?') {
        const nearestBusStop = appData.transportation.busStops[0]; // Example: first bus stop
        botResponse = `The nearest bus stop is ${nearestBusStop.name}, located ${nearestBusStop.distance}. Bus routes: ${nearestBusStop.routes.join(', ')}.`;
    } else if (message === 'Where can I get a cab?') {
        botResponse = 'You can book a cab directly through our app by clicking "Book Transportation" or visit the nearest cab stand at Railway Station (1.2km away).';
    } else if (message === 'What are the nearby places to visit?') {
        const attractions = appData.tourism.attractions.map(attraction => `${attraction.name} (${attraction.distance})`).join(', ');
        botResponse = `Popular attractions near you include: ${attractions}.`;
    } else if (message === 'How do I check my carbon emissions?') {
        botResponse = `You can view your carbon emissions statistics in the Carbon Emissions section below the map. Your current savings are ${appData.rewards.carbonSaved} this month!`;
    } else {
        botResponse = 'I\'m sorry, I don\'t have information about that. Please contact our support team for assistance.';
    }
    
    // Add a slight delay for more natural conversation
    setTimeout(() => {
        const botMessageDiv = document.createElement('div');
        botMessageDiv.className = 'message bot';
        botMessageDiv.textContent = botResponse;
        chatbotMessages.appendChild(botMessageDiv);
        
        // Scroll to the bottom of the chat
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }, 500);
}

 // Toggle payment option dropdown
        function togglePaymentOption(option) {
            // Get all payment forms
            const paymentForms = document.querySelectorAll('.payment-form');
            const paymentOptions = document.querySelectorAll('.payment-option');
            
            // Get the selected form
            const selectedForm = document.getElementById(option + '-form');
            const selectedOption = selectedForm.parentElement;
            const radioButton = document.getElementById(option);
            
            // First hide all forms
            paymentForms.forEach(form => {
                form.style.display = 'none';
            });
            
            // Remove active class from all options
            paymentOptions.forEach(opt => {
                opt.classList.remove('active-option');
            });
            
            // Show selected form and set active class
            selectedForm.style.display = 'block';
            selectedOption.classList.add('active-option');
            
            // Check the radio button
            radioButton.checked = true;
        }
        
        function processPayment() {
            const amount = document.getElementById('amount').textContent;
            const selectedMethod = document.querySelector('input[name="payment-method"]:checked');
            
            if (!selectedMethod) {
                alert('Please select a payment method');
                return;
            }
            
            alert(`Payment of ‚Çπ${amount} initiated via ${selectedMethod.value}!`);
            // Here you would normally submit to a payment processor
        }

function openMyBookings() {
    document.getElementById('myBookingsPage').style.display = 'block';
}

function closeMyBookings() {
    document.getElementById('myBookingsPage').style.display = 'none';
}

function switchTab(tabName) {
    // Hide all tabs
    const tabs = document.querySelectorAll('.booking-content');
    tabs.forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Deactivate all tab buttons
    const tabButtons = document.querySelectorAll('.booking-tab');
    tabButtons.forEach(button => {
        button.classList.remove('active');
    });
    
    // Activate selected tab
    document.getElementById(tabName).classList.add('active');
    
    // Activate selected button
    const activeButtonSelector = `.booking-tab[onclick="switchTab('${tabName}')"]`;
    document.querySelector(activeButtonSelector).classList.add('active');
}

// Make the chatbot visible when loaded
document.addEventListener('DOMContentLoaded', function() {
    // Initialize chatbot toggle
    document.getElementById('chatbotToggle').addEventListener('click', toggleChatbot);
});
    </script>
</body>
</html>